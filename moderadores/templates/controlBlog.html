{% extends 'base_mod.html' %}
{% load static %}

{% block content%}
    <div class="content blog content">
      <div class="content blog content-inicio">
        <p>Moderador</p>
        <div class="content blog content-inicio-box"> 
          <button class="btn btn-primary btn-lg" type="button" data-bs-toggle="modal" data-bs-target="#agregarpost">Nuevo Post<img src="{% static 'css/images/icono/nuevopost.svg' %}" alt="Nuevo post"/></button>
        </div>
      </div>
      <div class="modal fade modal fade" id="agregarpost" tabindex="-1" aria-labelledby="modalComedorLabel">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">Nuevo post</h1>
              <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
              <form  method="POST" action="{% url 'create' %}" enctype="multipart/form-data" accept-charset="utf-8">
                {% csrf_token %}
                <div class="content__form__box">
                  <label class="content__form__box-label" for="titulo">T&iacute;tulo: </label>
                  <textarea class="content__form__box-input" type="text" placeholder="Ingrese el título del Post" name="titulo" required="" maxlength="120"></textarea>
                </div>
                <div class="content__form__box">
                  <label class="content__form__box-label" for="contenido">Contenido: </label>
                  <textarea class="content__form__box-input" placeholder="Ingrese el contenido del Post" wrap="soft" maxlength="5000" name="contenido"></textarea>
                </div>
                <div class="content__form__box">
                  <label class="content__form__box-label" for="extracto">Extracto: </label>
                  <textarea class="content__form__box-input" placeholder="Ingrese un extracto del post" required="" rows="5" maxlength="180" name="extracto"></textarea>
                </div>
                <input id="hidden" type="hidden" name="oculto" value="1"/>
                <div class="content__form__box">  </div>
              </form>
            </div>
            <div class="modal-footer">
              <button class="btn btn-danger btn-lg" data-bs-dismiss="modal"  onclick="cerrar_modal_agregar">Cancelar</button>
              <button class="btn btn-primary btn-lg" type="submit" data-bs-toggle="modal" data-bs-target="#">Postear</button>
            </div>
          </div>
        </div>
      </div>
      <div class="content_blog content-inicio-box-tabs">
        <div class="tab-content" id="myTabContent">
          <div class="tab-pane fade show active" id="usuario-tab-pane" role="tabpanel" aria-labelledby="usuario-tab" tabindex="0"> 
            <div class="content_blog contnet-inicio-box-tabs-item">
              <div class="content_blog contnet-inicio-box-tabs-item-cuerpo">
                <form class="d-flex" role="search">
                  <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search"/><a href="busqueda.html"> 
                    <div class="btn btn-dark btn-lg" type="submit">Buscar</div></a>
                  <input class="btn-clean btn-lg" id="azul" type="reset" value="Limpiar"/>
                </form>
              </div>
              <div class="content_blog contnet-inicio-box-tabs-item-cuerpo-control">
                <div class="table-wrapper contnet-inicio-box-tabs-item-cuerpo-control__table">
                  <table class="table table-striped table-hover">
                    <thead> 
                      <tr>                 
                        <th>Id</th>
                        <th>Titulo</th>
                        <th>Fecha</th>
                      </tr>
                    </thead>
                    <tbody> 
                      {% for post in posts %}
                      <tr id="fila_id_{{ post.id_post }}">
                        <td>{{ post.id_post}}</td>
                        <td>{{ post.titulo}}</td>
                        <td>{{ post.fecha}}</td>
                      
                          <button class="btn btn-primary btn-lg" id="modificar" type="button" data-bs-toggle="modal" data-bs-target="#editar"> <i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254; </i></button>
                          <div class="modal fade modal fade" id="editar" tabindex="-1" aria-labelledby="modalComedorLabel">
                            <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h1 class="modal-title fs-5" id="editar">Modificar Post</h1>
                                  <button class="btn-close" type="button" data-bs-dismiss="modal" onclick="abrir_modal_edicion"><span aria-hidden="true">&times;</span></button>
                                </div>
                                <div class="modal-body">
                                  <form  id="formulario"  method="POST" enctype="multipart/form-data" accept-charset="utf-8">
                                    <div class="content__form__box">
                                      <label class="content__form__box-label" for="titulo">T&iacute;tulo: </label>
                                      <textarea class="content__form__box-input" type="text" placeholder="Ingrese el título del Post" name="titulo" required="" maxlength="120"></textarea>
                                    </div>
                                    <div class="content__form__box">
                                      <label class="content__form__box-label" for="extracto">Extracto: </label>
                                      <textarea class="content__form__box-input" placeholder="Ingrese un extracto del post" required="" rows="5" maxlength="180" name="extracto"></textarea>
                                    </div>
                                    <div class="content__form__box">
                                      <label class="content__form__box-label" for="contenido">Contenido: </label>
                                      <textarea class="content__form__box-input" placeholder="Ingrese el contenido del Post" wrap="soft" maxlength="5000" name="contenido"></textarea>
                                    </div>
                                    <input id="hidden" type="hidden" name="oculto" value="1"/>
                                    <div class="content__form__box">  </div>
                                  </form>
                                </div>
                                <div class="modal-footer">
                                  <button class="btn btn-danger btn-lg" data-bs-dismiss="modal" onclick="abrir_modal_edicion">Cancelar</button>
                                  <button class="btn btn-primary btn-lg" type="submit" data-bs-toggle="modal" data-bs-target="#">Postear  </button>
                                </div>
                              </div>
                            </div>
                          </div>
                          <button class="btn btn-primary" id="eliminar" type="button" data-bs-toggle="modal" data-bs-target="#eliminarModal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></button>
                          <div class="modal fade modal fade" id="eliminarModal" tabindex="-1" aria-labelledby="modaleliminar">
                            <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h1 class="modal-title fs-5" id="eliminarModalLabel">
                                    <Strong>Atencion</Strong> 
                                  </h1>
                                  <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                </div>
                                <div class="modal-body">
                                  <p>¿Estás seguro de eliminar el registro del POS?</p>
                                </div>
                                <div class="modal-footer">
                                  <button class="btn btn-danger btn-lg" data-bs-dismiss="modal" aria-label="Close">Cancelar</button>
                                  <button class="btn btn-primary btn-lg" type="submit" data-bs-toggle="modal" data-bs-target="#modaleliminar">Confirmar                                   </button>
                                </div>
                              </div>
                            </div>
                          </div>
                        </td>
                      </tr>
                      {% endfor %}
                      <tr> 
                        <td>02</td>
                        <td>cliente 2</td>
                        <td>23/octubre/2023</td>
                        <td> </td>
                        <td>
                          <button class="btn btn-primary btn-lg" id="modificar" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal"> <i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254; </i></button>
                          <div class="modal fade modal fade" id="exampleModal" tabindex="-1" aria-labelledby="modalComedorLabel">
                            <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h1 class="modal-title fs-5" id="exampleModalLabel">Nuevo post</h1>
                                  <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                </div>
                                <div class="modal-body">
                                  <form class="content__form form_insert_post" id="formulario" action="insert_post.php" method="POST" enctype="multipart/form-data" accept-charset="utf-8">
                                    <div class="content__form__box">
                                      <label class="content__form__box-label" for="txtTitulo">T&iacute;tulo: </label>
                                      <textarea class="content__form__box-input" type="text" placeholder="Ingrese el título del Post" name="titulo" required="" maxlength="120"></textarea>
                                    </div>
                                    <div class="content__form__box">
                                      <label class="content__form__box-label" for="txtExtracto">Extracto: </label>
                                      <textarea class="content__form__box-input" placeholder="Ingrese un extracto del post" required="" rows="5" maxlength="180" name="extracto"></textarea>
                                    </div>
                                    <div class="content__form__box">
                                      <label class="content__form__box-label" for="txtContenido">Contenido: </label>
                                      <textarea class="content__form__box-input" placeholder="Ingrese el contenido del Post" wrap="soft" maxlength="5000" name="contenido"></textarea>
                                    </div>
                                    <input id="hidden" type="hidden" name="oculto" value="1"/>
                                    <div class="content__form__box">  </div>
                                  </form>
                                </div>
                                <div class="modal-footer">
                                  <button class="btn btn-danger btn-lg" data-bs-dismiss="modal" aria-label="Close">Cancelar</button>
                                  <button class="btn btn-primary btn-lg" type="button" data-bs-toggle="modal" data-bs-target="#">Postear </button>
                                </div>
                              </div>
                            </div>
                          </div>
                          <button class="btn btn-primary" id="eliminar" type="button" data-bs-toggle="modal" data-bs-target="#eliminarModal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></button>
                          <div class="modal fade modal fade" id="eliminarModal" tabindex="-1" aria-labelledby="modaleliminar">
                            <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h1 class="modal-title fs-5" id="eliminarModalLabel">Confirmacion</h1>
                                  <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                </div>
                                <div class="modal-body">
                                  <p>En pocas cosas se puede invertir </p>
                                </div>
                                <div class="modal-footer">
                                  <button class="btn btn-primary" type="button" data-bs-toggle="modal" data-bs-target="#modaleliminar">Registrate como voluntaro</button>
                                </div>
                              </div>
                            </div>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="content_Ctrlblog_footer">
                <nav aria-label="...">
                  <ul class="pagination">
                    <li class="page-item disabled"></li><a class="page-link">Previous</a>
                    <li class="page-item"></li><a class="page-link" href="#">1</a>
                    <li class="page-item active" aria-current="page"></li><a class="page-link" href="#">2</a>
                    <li class="page-item"></li><a class="page-link" href="#">3</a>
                    <li class="page-item"></li><a class="page-link" href="#">Next   </a>
                  </ul>
                </nav>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endblock%}
